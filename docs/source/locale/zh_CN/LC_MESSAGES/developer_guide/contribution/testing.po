# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2025, vllm-ascend team
# This file is distributed under the same license as the vllm-ascend
# package.
# FIRST AUTHOR <EMAIL@ADDRESS>, 2025.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version:  vllm-ascend\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2026-01-21 10:23+0800\n"
"PO-Revision-Date: 2026-01-22 10:00+0800\n"
"Last-Translator: Your Name <email@example.com>\n"
"Language: zh_CN\n"
"Language-Team: zh_CN <LL@li.org>\n"
"Plural-Forms: nplurals=1; plural=0;\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=utf-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Generated-By: Babel 2.17.0\n"

#: ../../source/developer_guide/contribution/testing.md:1
msgid "Testing"
msgstr "测试指南"

#: ../../source/developer_guide/contribution/testing.md:3
msgid ""
"This document explains how to write E2E tests and unit tests to verify "
"the implementation of your feature."
msgstr "本文档介绍如何编写端到端（E2E）测试和单元测试，以验证您所实现功能的正确性。"

#: ../../source/developer_guide/contribution/testing.md:5
msgid "Setup a test environment"
msgstr "搭建测试环境"

#: ../../source/developer_guide/contribution/testing.md:7
msgid ""
"The fastest way to setup a test environment is to use the main branch's "
"container image:"
msgstr "搭建测试环境最快捷的方法是使用主分支的容器镜像："

#: ../../source/developer_guide/contribution/testing.md
msgid "Local (CPU)"
msgstr "本地环境（CPU）"

#: ../../source/developer_guide/contribution/testing.md:18
msgid "You can run the unit tests on CPUs with the following steps:"
msgstr "您可以按照以下步骤在 CPU 上运行单元测试："

#: ../../source/developer_guide/contribution/testing.md
msgid "Single card"
msgstr "单卡测试"

#: ../../source/developer_guide/contribution/testing.md:86
#: ../../source/developer_guide/contribution/testing.md:125
msgid "After starting the container, you should install the required packages:"
msgstr "启动容器后，您需要安装必要的依赖包："

#: ../../source/developer_guide/contribution/testing.md
msgid "Multi cards"
msgstr "多卡测试"

#: ../../source/developer_guide/contribution/testing.md:139
msgid "Running tests"
msgstr "运行测试"

#: ../../source/developer_guide/contribution/testing.md:141
msgid "Unit tests"
msgstr "单元测试"

#: ../../source/developer_guide/contribution/testing.md:143
msgid "There are several principles to follow when writing unit tests:"
msgstr "编写单元测试时需遵循以下原则："

#: ../../source/developer_guide/contribution/testing.md:145
msgid ""
"The test file path should be consistent with the source file and start "
"with the `test_` prefix, such as: `vllm_ascend/worker/worker.py` --> "
"`tests/ut/worker/test_worker.py`"
msgstr "测试文件路径应与源代码文件路径保持一致，并以 `test_` 为前缀，例如：`vllm_ascend/worker/worker.py` → `tests/ut/worker/test_worker.py`"

#: ../../source/developer_guide/contribution/testing.md:146
msgid ""
"The vLLM Ascend test uses unittest framework. See "
"[here](https://docs.python.org/3/library/unittest.html#module-unittest) "
"to understand how to write unit tests."
msgstr "vLLM Ascend 测试使用 unittest 框架。编写单元测试的方法可参考[此处](https://docs.python.org/3/library/unittest.html#module-unittest)。"

#: ../../source/developer_guide/contribution/testing.md:147
msgid ""
"All unit tests can be run on CPUs, so you must mock the device-related "
"function to host."
msgstr "所有单元测试都可在 CPU 上运行，因此必须将与设备相关的函数模拟到主机端执行。"

#: ../../source/developer_guide/contribution/testing.md:148
msgid ""
"Example: [tests/ut/test_ascend_config.py](https://github.com/vllm-project"
"/vllm-ascend/blob/main/tests/ut/test_ascend_config.py)."
msgstr "示例：[tests/ut/test_ascend_config.py](https://github.com/vllm-project/vllm-ascend/blob/main/tests/ut/test_ascend_config.py)。"

#: ../../source/developer_guide/contribution/testing.md:149
msgid "You can run the unit tests using `pytest`:"
msgstr "您可以使用 `pytest` 运行单元测试："

#: ../../source/developer_guide/contribution/testing.md
msgid "Single-card"
msgstr "单卡测试"

#: ../../source/developer_guide/contribution/testing.md
msgid "Multi-card"
msgstr "多卡测试"

#: ../../source/developer_guide/contribution/testing.md:196
msgid "E2E test"
msgstr "端到端（E2E）测试"

#: ../../source/developer_guide/contribution/testing.md:198
msgid ""
"Although vllm-ascend CI provides the [E2E test](https://github.com/vllm-"
"project/vllm-ascend/blob/main/.github/workflows/vllm_ascend_test.yaml) on"
" Ascend CI, you can run it locally."
msgstr "虽然 vllm-ascend 的 CI 在 Ascend CI 上提供了[端到端测试](https://github.com/vllm-project/vllm-ascend/blob/main/.github/workflows/vllm_ascend_test.yaml)，但您也可以在本地环境中运行这些测试。"

#: ../../source/developer_guide/contribution/testing.md:208
msgid "You can't run the E2E test on CPUs."
msgstr "注意：端到端测试无法在 CPU 上运行。"

#: ../../source/developer_guide/contribution/testing.md:247
msgid ""
"This will reproduce the E2E test. See "
"[vllm_ascend_test.yaml](https://github.com/vllm-project/vllm-"
"ascend/blob/main/.github/workflows/vllm_ascend_test.yaml)."
msgstr "这将复现完整的端到端测试流程。具体可参考 [vllm_ascend_test.yaml](https://github.com/vllm-project/vllm-ascend/blob/main/.github/workflows/vllm_ascend_test.yaml)。"

#: ../../source/developer_guide/contribution/testing.md:249
msgid ""
"Run nightly multi-node test cases locally refer to section of `Running "
"Locally` of [Multi Node Test](./multi_node_test.md)."
msgstr "关于如何在本地运行夜间（nightly）多节点测试用例，请参阅[多节点测试](./multi_node_test.md)文档中的“本地运行”章节。"

#: ../../source/developer_guide/contribution/testing.md:251
msgid "E2E test example:"
msgstr "端到端测试示例："

#: ../../source/developer_guide/contribution/testing.md:253
msgid ""
"Offline test example: "
"[`tests/e2e/singlecard/test_offline_inference.py`](https://github.com"
"/vllm-project/vllm-"
"ascend/blob/main/tests/e2e/singlecard/test_offline_inference.py)"
msgstr "离线推理测试示例：[`tests/e2e/singlecard/test_offline_inference.py`](https://github.com/vllm-project/vllm-ascend/blob/main/tests/e2e/singlecard/test_offline_inference.py)"

#: ../../source/developer_guide/contribution/testing.md:254
msgid ""
"Online test examples: "
"[`tests/e2e/singlecard/test_prompt_embedding.py`](https://github.com"
"/vllm-project/vllm-"
"ascend/blob/main/tests/e2e/singlecard/test_prompt_embedding.py)"
msgstr "在线服务测试示例：[`tests/e2e/singlecard/test_prompt_embedding.py`](https://github.com/vllm-project/vllm-ascend/blob/main/tests/e2e/singlecard/test_prompt_embedding.py)"

#: ../../source/developer_guide/contribution/testing.md:255
msgid ""
"Correctness test example: "
"[`tests/e2e/singlecard/test_aclgraph_accuracy.py`](https://github.com"
"/vllm-project/vllm-"
"ascend/blob/main/tests/e2e/singlecard/test_aclgraph_accuracy.py)"
msgstr "正确性测试示例：[`tests/e2e/singlecard/test_aclgraph_accuracy.py`](https://github.com/vllm-project/vllm-ascend/blob/main/tests/e2e/singlecard/test_aclgraph_accuracy.py)"

#: ../../source/developer_guide/contribution/testing.md:257
msgid ""
"The CI resource is limited, and you might need to reduce the number of "
"layers of a model. Below is an example of how to generate a reduced layer"
" model:"
msgstr "由于 CI 资源有限，您可能需要创建精简层数的模型进行测试。以下是一个生成精简层数模型的示例："

#: ../../source/developer_guide/contribution/testing.md:258
msgid ""
"Fork the original model repo in modelscope. All the files in the repo "
"except for weights are required."
msgstr "在 modelscope 上 fork 原始模型仓库。除权重文件外，需要保留仓库中的所有文件。"

#: ../../source/developer_guide/contribution/testing.md:259
#, python-brace-format
msgid ""
"Set `num_hidden_layers` to the expected number of layers, e.g., "
"`{\"num_hidden_layers\": 2,}`"
msgstr "在配置中将 `num_hidden_layers` 设置为期望的层数，例如：`{\"num_hidden_layers\": 2,}`"

#: ../../source/developer_guide/contribution/testing.md:260
msgid ""
"Copy the following python script as `generate_random_weight.py`. Set the "
"relevant parameters `MODEL_LOCAL_PATH`, `DIST_DTYPE` and "
"`DIST_MODEL_PATH` as needed:"
msgstr "将以下 Python 脚本保存为 `generate_random_weight.py`，并根据需要设置 `MODEL_LOCAL_PATH`、`DIST_DTYPE` 和 `DIST_MODEL_PATH` 参数："

#: ../../source/developer_guide/contribution/testing.md:278
msgid "Run doctest"
msgstr "运行文档测试（doctest）"

#: ../../source/developer_guide/contribution/testing.md:280
msgid ""
"vllm-ascend provides a `vllm-ascend/tests/e2e/run_doctests.sh` command to"
" run all doctests in the doc files. The doctest is a good way to make "
"sure docs stay current and examples remain executable, which can be run "
"locally as follows:"
msgstr "vllm-ascend 提供了 `vllm-ascend/tests/e2e/run_doctests.sh` 命令，用于运行所有文档文件中的 doctest。Doctest 是确保文档内容及时更新且示例代码保持可执行性的有效方法，您可以通过以下方式在本地运行："

#: ../../source/developer_guide/contribution/testing.md:288
msgid ""
"This will reproduce the same environment as the CI. See "
"[vllm_ascend_doctest.yaml](https://github.com/vllm-project/vllm-"
"ascend/blob/main/.github/workflows/vllm_ascend_doctest.yaml)."
msgstr "这将复现与 CI 相同的测试环境。具体配置可参考 [vllm_ascend_doctest.yaml](https://github.com/vllm-project/vllm-ascend/blob/main/.github/workflows/vllm_ascend_doctest.yaml)。"

#~ msgid "Multi cards test"
#~ msgstr "多卡测试"

#~ msgid ""
#~ "Reduced Layer model test example: "
#~ "[test_torchair_graph_mode.py - "
#~ "DeepSeek-V3-Pruning](https://github.com/vllm-project/vllm-"
#~ "ascend/blob/20767a043cccb3764214930d4695e53941de87ec/tests/e2e/multicard/test_torchair_graph_mode.py#L48)"
#~ msgstr ""
#~ "精简层模型测试示例：[test_torchair_graph_mode.py - DeepSeek-V3-Pruning](https://github.com/vllm-project/vllm-ascend/blob/20767a043cccb3764214930d4695e53941de87ec/tests/e2e/multicard/test_torchair_graph_mode.py#L48)"